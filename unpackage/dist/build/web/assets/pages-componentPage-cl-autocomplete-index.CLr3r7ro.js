import{m as e,g as l,r as t,G as a,j as s,a as o,b as u,k as r,w as i,c as n,A as d,F as p,d as c,z as m,y as g,e as h,t as y,B as f,i as v,q as _,S}from"./index-BZI3g_NT.js";import{_ as x}from"./uni-easyinput.C5K4cF0_.js";import{_ as b,r as k}from"./_plugin-vue_export-helper.CVF5zBYs.js";import"./uni-icons.BJDLfPPo.js";const B=b({__name:"cl-autocomplete",props:e({options:{type:Array,default:()=>[]},placeholder:{type:String,default:"请选择"},maxHeight:{type:[String,Number],default:300},placeholderStyle:{type:String,default:""},disabled:{type:Boolean,default:!1},maxlength:{type:Number,default:20},trim:{type:String,default:"both"},hideBorder:{type:Boolean,default:!1},cursorSpacing:{type:Number,default:300},type:{type:String,default:"text"},isStrict:{type:Boolean,default:!1},isHighlight:{type:Boolean,default:!1},highlightColor:{type:String,default:"#007aff"},customFilter:{type:Function}},{modelValue:{default:""},modelModifiers:{}}),emits:e(["focus","blur","selected","clear","input"],["update:modelValue"]),setup(e,{emit:b}){const B=e,V=l(e,"modelValue"),C=b,H=t(!1),w=a((()=>B.options.filter((e=>{var l,t;return B.customFilter?B.customFilter(e):B.isStrict?e.includes(V.value||""):null==(t=e.toLowerCase())?void 0:t.includes((null==(l=V.value)?void 0:l.toLowerCase())||"")})))),F=e=>{if("string"!=typeof e)return"";if(!B.isHighlight)return e;const l=B.isStrict?new RegExp(V.value,"g"):new RegExp(V.value,"gi");return e.replace(l,(e=>`<span style="color: ${B.highlightColor};">${e}</span>`))};let j=null;const T=()=>{j&&clearTimeout(j),j=setTimeout((()=>{H.value=B.options.length>0,C("focus")}),150)},L=e=>{H.value=!1};return(l,t)=>{const a=k(s("uni-easyinput"),x),b=v,B=_,j=S;return o(),u(p,null,[r(b,{class:"el_select"},{default:i((()=>[r(a,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=e=>V.value=e),type:e.type,clearable:!0,placeholder:e.placeholder,placeholderStyle:e.placeholderStyle,disabled:e.disabled,maxlength:e.maxlength,trim:e.trim,inputBorder:!e.hideBorder,cursorSpacing:e.cursorSpacing,onFocus:T},null,8,["modelValue","type","placeholder","placeholderStyle","disabled","maxlength","trim","inputBorder","cursorSpacing"]),H.value&&w.value.length>0?(o(),n(b,{key:0,class:"scroll_list"},{default:i((()=>[r(b,{class:"triangle_icon"}),r(j,{"scroll-y":"",style:d({maxHeight:e.maxHeight+"px"})},{default:i((()=>[(o(!0),u(p,null,c(w.value,((e,l)=>(o(),n(b,{class:m(["select_item",{active:e===V.value}]),key:l,onClick:l=>(e=>{H.value=!1,V.value=e,C("selected",e)})(e)},{default:i((()=>[r(B,{innerHTML:F(e)},null,8,["innerHTML"])])),_:2},1032,["class","onClick"])))),128)),0===w.value.length?g(l.$slots,"empty",{key:0},(()=>[r(b,{class:"empty_text"},{default:i((()=>[h(y(l.emptyText),1)])),_:1})]),!0):f("",!0)])),_:3},8,["style"])])),_:3})):f("",!0)])),_:3}),H.value?(o(),n(b,{key:0,class:"mask",onClick:L})):f("",!0)],64)}}},[["__scopeId","data-v-596651ab"]]),V=b({__name:"index",setup(e){const l=["Apple","Banana","Orange","Mango","Strawberry"],a=t("");return(e,t)=>{const u=_,d=k(s("cl-autocomplete"),B),p=v;return o(),n(p,{class:"content"},{default:i((()=>[r(u,null,{default:i((()=>[h("模仿uni-data-select做的提示输入框，并可以根据输入内容进行过滤")])),_:1}),r(d,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),options:l,placeholder:"搜索水果","max-height":"400","is-highlight":""},null,8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-20b6affa"]]);export{V as default};
