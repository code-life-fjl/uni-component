{"version":3,"file":"cl-autocomplete.js","sources":["uni_modules/cl-autocomplete/components/cl-autocomplete/cl-autocomplete.vue","../../../soft/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovY29kZS9jb2RlLWxpZmUvdW5pLWFwcC1jb21wb25lbnRzL3VuaV9tb2R1bGVzL2NsLWF1dG9jb21wbGV0ZS9jb21wb25lbnRzL2NsLWF1dG9jb21wbGV0ZS9jbC1hdXRvY29tcGxldGUudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"el_select\">\r\n\t\t<uni-easyinput v-model=\"showVal\" :type=\"type\" :clearable=\"true\" :placeholder=\"placeholder\"\r\n\t\t\t:placeholderStyle=\"placeholderStyle\" :disabled=\"disabled\" :maxlength=\"maxlength\" :trim=\"trim\"\r\n\t\t\t:inputBorder=\"!hideBorder\" :cursorSpacing=\"cursorSpacing\" @focus=\"focusHandle\">\r\n\t\t</uni-easyinput>\r\n\t\t<view class=\"scroll_list\" v-if=\"visible && showOptions.length > 0\">\r\n\t\t\t<view class=\"triangle_icon\"></view>\r\n\t\t\t<scroll-view scroll-y :style=\"{maxHeight: maxHeight + 'px'}\">\r\n\t\t\t\t<view class=\"select_item\" :class=\"{active: item === showVal}\" v-for=\"(item, index) in showOptions\" :key=\"index\"\r\n\t\t\t\t\t@click=\"selected(item)\">\r\n\t\t\t\t\t{{item}}\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"mask\" @click=\"maskClick\" v-if=\"visible\"></view>\r\n</template>\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\twatch,\r\n\t\tcomputed,\r\n\t\tnextTick,\r\n\t\tonMounted\r\n\t} from 'vue'\r\n\tconst props = defineProps({\r\n\t\toptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '请选择'\r\n\t\t},\r\n\t\tmaxHeight: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: 300\r\n\t\t},\r\n\t\tplaceholderStyle: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tmaxlength: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 20\r\n\t\t},\r\n\t\ttrim: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'both'\r\n\t\t},\r\n\t\thideBorder: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tcursorSpacing: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 300\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'text'\r\n\t\t},\r\n\t})\r\n\tconst emits = defineEmits(['update:modelValue', 'focus', 'blur', 'selected', 'clear', 'input'])\r\n\r\n\t// 控制下拉框\r\n\tconst visible = ref(false)\r\n\tconst showOptions = computed(() => props.options.filter(item => item.toLowerCase()?.includes(props.modelValue\r\n\t\t?.toLowerCase() || '')))\r\n\r\n\tconst showVal = computed({\r\n\t\tget: () => {\r\n\t\t\treturn props.modelValue\r\n\t\t},\r\n\t\tset: (newV) => {\r\n\t\t\temits('update:modelValue', newV)\r\n\t\t}\r\n\t})\r\n\t// 选中数据\r\n\tconst selected = (item) => {\r\n\t\tvisible.value = false\r\n\t\tshowVal.value = item\r\n\t\temits('selected', item)\r\n\t}\r\n\t// 清除\r\n\tconst clearHandle = () => {\r\n\t\t// 清除所选项跟定位元素\r\n\t\tshowVal.value = ''\r\n\t\temits('clear')\r\n\t}\r\n\tlet timeoutId = null // 防抖ID\r\n\t// 聚焦函数\r\n\tconst focusHandle = () => {\r\n\t\tif (timeoutId) clearTimeout(timeoutId)\r\n\t\ttimeoutId = setTimeout(() => {\r\n\t\t\tvisible.value = props.options.length > 0\r\n\t\t\temits('focus')\r\n\t\t}, 150)\r\n\t}\r\n\t// 失去焦点\r\n\tconst blurHandle = () => {\r\n\t\temits('blur')\r\n\t}\r\n\t// 监听输入框\r\n\tconst inputHandle = (e) => {\r\n\t\temits('input', e)\r\n\t}\r\n\r\n\t// 工具函数\r\n\tconst isEmpty = (val) => {\r\n\t\treturn val === '' || val === undefined || val === null\r\n\t}\r\n\r\n\tconst maskClick = (e) => {\r\n\t\tvisible.value = false\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.el_select {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.scroll_list {\r\n\t\tposition: absolute;\r\n\t\ttop: calc(100% + 12px);\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\tborder: 1px solid #ebeef5;\r\n\t\tborder-radius: 6px;\r\n\t\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);\r\n\t\tz-index: 3;\r\n\t\tpadding: 4px 0;\r\n\t}\r\n\r\n\t.triangle_icon {\r\n\t\tposition: absolute;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder: 1px solid #ebeef5;\r\n\t\tborder-right: none;\r\n\t\tborder-bottom: none;\r\n\t\tleft: 10%;\r\n\t\ttop: -6px;\r\n\t\ttransform: rotate(45deg);\r\n\t}\r\n\r\n\t.icons {\r\n\t\tposition: relative;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\r\n\t.select_item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 5px;\r\n\t\tmin-height: 35px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.select_item:hover {\r\n\t\tbackground-color: #f9f9f9;\r\n\t}\r\n\r\n\t.active {\r\n\t\tbackground-color: #f9f9f9;\r\n\t}\r\n\r\n\t.empty_text {\r\n\t\ttext-align: center;\r\n\t\tline-height: 30px;\r\n\t\tcolor: gray;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\t/* background-color: rgba(0, 0, 0, .1); */\r\n\t\tz-index: 2;\r\n\t}\r\n</style>","import Component from 'D:/code/code-life/uni-app-components/uni_modules/cl-autocomplete/components/cl-autocomplete/cl-autocomplete.vue'\nwx.createComponent(Component)"],"names":["ref","computed"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BC,UAAM,QAAQ;AA8Cd,UAAM,QAAQ;AAGd,UAAM,UAAUA,cAAG,IAAC,KAAK;AACzB,UAAM,cAAcC,cAAAA,SAAS,MAAM,MAAM,QAAQ,OAAO,UAAI;;AAAI,wBAAK,YAAW,MAAhB,mBAAoB,WAAS,WAAM,eAAN,mBAC1F,kBAAiB;AAAA,KAAG,CAAC;AAExB,UAAM,UAAUA,cAAAA,SAAS;AAAA,MACxB,KAAK,MAAM;AACV,eAAO,MAAM;AAAA,MACb;AAAA,MACD,KAAK,CAAC,SAAS;AACd,cAAM,qBAAqB,IAAI;AAAA,MAC/B;AAAA,IACH,CAAE;AAED,UAAM,WAAW,CAAC,SAAS;AAC1B,cAAQ,QAAQ;AAChB,cAAQ,QAAQ;AAChB,YAAM,YAAY,IAAI;AAAA,IACtB;AAOD,QAAI,YAAY;AAEhB,UAAM,cAAc,MAAM;AACzB,UAAI;AAAW,qBAAa,SAAS;AACrC,kBAAY,WAAW,MAAM;AAC5B,gBAAQ,QAAQ,MAAM,QAAQ,SAAS;AACvC,cAAM,OAAO;AAAA,MACb,GAAE,GAAG;AAAA,IACN;AAeD,UAAM,YAAY,CAAC,MAAM;AACxB,cAAQ,QAAQ;AAAA,IAChB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3HF,GAAG,gBAAgB,SAAS;"}